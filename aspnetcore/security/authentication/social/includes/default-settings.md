The call to [AddIdentity](/dotnet/api/microsoft.extensions.dependencyinjection.identityservicecollectionextensions.addidentity) configures the default scheme settings. The [AddAuthentication(String)](/dotnet/api/microsoft.extensions.dependencyinjection.authenticationservicecollectionextensions.addauthentication#Microsoft_Extensions_DependencyInjection_AuthenticationServiceCollectionExtensions_AddAuthentication_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_String_) overload sets the [DefaultScheme](/dotnet/api/microsoft.aspnetcore.authentication.authenticationoptions.defaultscheme) property. The [AddAuthentication(Action&lt;AuthenticationOptions&gt;)](/dotnet/api/microsoft.extensions.dependencyinjection.authenticationservicecollectionextensions.addauthentication#Microsoft_Extensions_DependencyInjection_AuthenticationServiceCollectionExtensions_AddAuthentication_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_Action_Microsoft_AspNetCore_Authentication_AuthenticationOptions__) overload sets only the properties you explicitly set. Either of these overloads should only be called once with the same scheme when adding multiple authentication providers. Subsequent calls have the potential of overriding any previously configured [AuthenticationOptions](/dotnet/api/microsoft.aspnetcore.builder.authenticationoptions) properties. Subsequent calls with the same scheme raise an exception. [AuthenticationBuilder](/dotnet/api/microsoft.aspnetcore.authentication.authenticationbuilder) extension methods that register an authentication handler include an overload that allows configuration of the display name.
